(this["webpackJsonpweb-playback-sdk-sample-app"]=this["webpackJsonpweb-playback-sdk-sample-app"]||[]).push([[0],{10:function(e,t,a){},11:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(3),i=a.n(s),r=a(0);const o={name:"Balam Pichkari",uri:"spotify:track:18e3XXYCv4Tx8uUl1mP3CN",seek:72e3},l={name:"Running Up That Hill",uri:"spotify:track:1PtQJZVZIdWIYdARpZRDFO",seek:166e3},d={name:"",album:{images:[{url:""}]},artists:[{name:""}]};var p=function(e){const[t,a]=Object(n.useState)(!1),[c,s]=Object(n.useState)(!1),[i,p]=Object(n.useState)(void 0),[j,b]=Object(n.useState)(d);async function u(t){return await fetch("https://api.spotify.com/v1/me/player/play",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},body:JSON.stringify({uris:[t.uri],position_ms:t.seek})})}return Object(n.useEffect)((()=>{const t=document.createElement("script");t.src="https://sdk.scdn.co/spotify-player.js",t.async=!0,document.body.appendChild(t),window.onSpotifyWebPlaybackSDKReady=()=>{const t=new window.Spotify.Player({name:"Web Playback SDK",getOAuthToken:t=>{t(e.token)},volume:.5});p(t),t.addListener("ready",(e=>{let{device_id:t}=e;console.log("Ready with Device ID",t)})),t.addListener("not_ready",(e=>{let{device_id:t}=e;console.log("Device ID has gone offline",t)})),t.addListener("player_state_changed",(e=>{e&&(b(e.track_window.current_track),a(e.paused),t.getCurrentState().then((e=>{s(!!e)})))})),t.connect()}}),[]),c?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"main-wrapper",children:[Object(r.jsx)("img",{src:j.album.images[0].url,className:"now-playing__cover",alt:""}),Object(r.jsxs)("div",{className:"now-playing__side",children:[Object(r.jsx)("div",{className:"now-playing__name",children:j.name}),Object(r.jsx)("div",{className:"now-playing__artist",children:j.artists[0].name}),Object(r.jsx)("button",{className:"btn-spotify",onClick:()=>{i.togglePlay()},children:t?"PLAY":"PAUSE"}),Object(r.jsx)("button",{className:"btn-spotify",onClick:()=>{u(o)},children:"3 - EL LAH-TH-RAH"}),Object(r.jsx)("button",{className:"btn-spotify",onClick:()=>{u(l)},children:"37 - EM-AH-LEE LOO-NING"})]})]})})}):Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"main-wrapper",children:Object(r.jsx)("b",{children:" Instance not active. Transfer your playback using your Spotify app "})})})})};var j=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)("header",{className:"App-header",children:Object(r.jsx)("a",{className:"btn-spotify",href:"/auth/login",children:"Login with Spotify"})})})};a(9);var b=function(){const[e,t]=Object(n.useState)("");return Object(n.useEffect)((()=>{!async function(){const e=await fetch("/auth/token"),a=await e.json();t(a.access_token)}()}),[]),Object(r.jsx)(r.Fragment,{children:""===e?Object(r.jsx)(j,{}):Object(r.jsx)(p,{token:e})})};a(10);i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(HashRouter,{children:Object(r.jsx)(b,{})})}),document.getElementById("root"))},9:function(e,t,a){}},[[11,1,2]]]);
//# sourceMappingURL=main.60aef46c.chunk.js.map