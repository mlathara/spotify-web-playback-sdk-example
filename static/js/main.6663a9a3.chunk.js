(this["webpackJsonpweb-playback-sdk-sample-app"]=this["webpackJsonpweb-playback-sdk-sample-app"]||[]).push([[0],{10:function(e,t,a){},11:function(e,t,a){},12:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(2),i=a.n(s),r=a(4),o=a(1);const l={name:"Balam Pichkari",uri:"spotify:track:18e3XXYCv4Tx8uUl1mP3CN",seek:72e3},d={name:"Running Up That Hill",uri:"spotify:track:1PtQJZVZIdWIYdARpZRDFO",seek:166e3},p={name:"",album:{images:[{url:""}]},artists:[{name:""}]};var j=function(e){const[t,a]=Object(n.useState)(!1),[c,s]=Object(n.useState)(!1),[i,r]=Object(n.useState)(void 0),[j,b]=Object(n.useState)(p);async function u(t){return await fetch("https://api.spotify.com/v1/me/player/play",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},body:JSON.stringify({uris:[t.uri],position_ms:t.seek})})}return Object(n.useEffect)((()=>{const t=document.createElement("script");t.src="https://sdk.scdn.co/spotify-player.js",t.async=!0,document.body.appendChild(t),window.onSpotifyWebPlaybackSDKReady=()=>{const t=new window.Spotify.Player({name:"Web Playback SDK",getOAuthToken:t=>{t(e.token)},volume:.5});r(t),t.addListener("ready",(e=>{let{device_id:t}=e;console.log("Ready with Device ID",t)})),t.addListener("not_ready",(e=>{let{device_id:t}=e;console.log("Device ID has gone offline",t)})),t.addListener("player_state_changed",(e=>{e&&(b(e.track_window.current_track),a(e.paused),t.getCurrentState().then((e=>{s(!!e)})))})),t.connect()}}),[]),c?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"main-wrapper",children:[Object(o.jsx)("img",{src:j.album.images[0].url,className:"now-playing__cover",alt:""}),Object(o.jsxs)("div",{className:"now-playing__side",children:[Object(o.jsx)("div",{className:"now-playing__name",children:j.name}),Object(o.jsx)("div",{className:"now-playing__artist",children:j.artists[0].name}),Object(o.jsx)("button",{className:"btn-spotify",onClick:()=>{i.togglePlay()},children:t?"PLAY":"PAUSE"}),Object(o.jsx)("button",{className:"btn-spotify",onClick:()=>{u(l)},children:"3 - EL LAH-TH-RAH"}),Object(o.jsx)("button",{className:"btn-spotify",onClick:()=>{u(d)},children:"37 - EM-AH-LEE LOO-NING"})]})]})})}):Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"main-wrapper",children:Object(o.jsx)("b",{children:" Instance not active. Transfer your playback using your Spotify app "})})})})};var b=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)("header",{className:"App-header",children:Object(o.jsx)("a",{className:"btn-spotify",href:"/spotify-web-playback-sdk-example/auth/login",children:"Login with Spotify"})})})};a(10);var u=function(){const[e,t]=Object(n.useState)("");return Object(n.useEffect)((()=>{!async function(){const e=await fetch("/auth/token"),a=await e.json();t(a.access_token)}()}),[]),Object(o.jsx)(o.Fragment,{children:""===e?Object(o.jsx)(b,{}):Object(o.jsx)(j,{token:e})})};a(11);i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(r.a,{children:Object(o.jsx)(u,{})})}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.6663a9a3.chunk.js.map